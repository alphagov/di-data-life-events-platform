environment: test

server:
  shutdown: immediate

aws:
  provider: localstack

management.endpoint:
  health.cache.time-to-live: 0
  info.cache.time-to-live: 0

prometheus:
  user:
    name: prometheus
    password: prometheus
    role: ACTUATOR

api:
  base:
    prisoner-event:
      enabled: true
    lev:
      api:
        client:
          name: gdx-data-share
          user: gdx-data-share-user
    prisoner-search:
      api:
        client:
          id: prisoner-search-client
          secret: prisoner-search-secret
    url:
      issuer-uri: http://localhost:19090
      oauth: http://localhost:19090
      lev: http://localhost:18099
      prisoner-search: http://localhost:18082
      hmpps-auth:  http://localhost:19090
    s3:
      localstack-url: http://127.0.0.1:4566

spring:
  flyway:
    locations: classpath:db/migration, classpath:db/devonly

  security:
    oauth2:
      resource-server:
        jwt:
          jwk-set-uri: ${api.base.url.oauth}/.well-known/jwks.json

  datasource:
    url: jdbc:aws-wrapper:postgresql://localhost:5433/datashare?sslmode=disable
    username: test
    password: test

sqs:
  provider: localstack
  queues:
    supplierevent:
      queueName: supplier-event-queue
      dlqName: supplier-event-dlq
    acquirerevent:
      queueName: acquirer-event-queue
      dlqName: acquirer-event-dlq
    prisonerevent:
      queueName: prisoner-event-queue
      dlqName: prisoner-event-dlq

xray-tracing:
  enabled: false

cognito:
  enabled: false
